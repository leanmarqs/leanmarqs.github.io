<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Obtenha o favicon de um site</title>
  </head>
  <body>
    <h1>Obtenha o favicon de um site</h1>
    <label for="siteLink">Digite o link do site:</label>
    <input type="text" id="siteLink">
    <button onclick="getFavicon()">Obter Favicon</button>
    <br>
    <img id="favicon">

    <script>
      function getFavicon() {
        // Link do site fornecido pelo usu√°rio
        var url = document.getElementById("siteLink").value;

        // Cria um novo XMLHttpRequest object.
        var xhr = new XMLHttpRequest();

        // Set the request method to "GET".
        xhr.open("GET", "https://www.google.com/s2/favicons?sz=64&domain=" + url.replace("https://", "").replace("http://", "") + "&s=42");

        // Send the request.
        xhr.send();

        // Check the response status code.
        xhr.onreadystatechange = function() {
          if (xhr.readyState === 4 && xhr.status === 200) {
            // The request was successful.
            // Get the favicon data.
            var faviconData = xhr.responseText;

            // Create a new canvas element.
            var canvas = document.createElement("canvas");

            // Set the canvas width and height to 42 pixels.
            canvas.width = 42;
            canvas.height = 42;

            // Create a new 2D context for the canvas.
            var ctx = canvas.getContext("2d");

            // Draw the favicon data on the canvas.
            ctx.drawImage(faviconData, 0, 0);

            // Convert the canvas to an image.
            var image = canvas.toDataURL("image/png");

            // Display the image on the page.
            document.getElementById("favicon").src = image;
          } else {
            // The request failed.
            alert("The request failed.");
          }
        };
      }
    </script>
  </body>
</html>
